## Linux 基础命令

shell命令行工具（Bash 解释器）

* 通过上下方向键来调取过往执行过的Linux命令
* 命令或参数仅需输入前几位就可以Tab键补全
* 具有强大的批处理脚本
* 具有实用的环境变量功能

### 执行查看帮助命令

常见执行Linux命令的格式是这样的

```
命令名称 [命令参数] [命令对象]
```

> 命令名称、命令参数、命令对象之间请用空格键分隔

命令对象一般是指要处理的文件、目录、用户等资源，而命令参数可以用长格式（完整的选项名称），也可以用短格式（单个字母的缩写），两者分别用 -- 与 - 作为前缀

在命令行终端中输入 man man 命令来查看 man 命令自身的帮助信息

<img src="C:\Users\91208\AppData\Roaming\Typora\typora-user-images\image-20211117095504259.png" alt="image-20211117095504259" style="zoom:80%;" />

---

#### man 命令中常用按键以及用途

| 按键      | 用途                                |
| --------- | ----------------------------------- |
| 空格键    | 向下翻一页                          |
| PaGe down | 向下翻一页                          |
| PaGe up   | 向上翻一页                          |
| home      | 直接前往首页                        |
| end       | 直接前往尾页                        |
| /         | 从上至下搜索某个关键词，如“/linux”  |
| ?         | 从下至上搜索某个关键词，如“?linuxl” |
| n         | 定位到下一个搜索到的关键词          |
| N         | 定位到上一个搜索到的关键词          |
| q         | 退出帮助文档                        |

---

#### man 命令帮助信息的结构以及意义

| 结构名称    | 代表意义                 |
| ----------- | ------------------------ |
| NAME        | 命令的名称               |
| SYNOPSIS    | 参数的大致使用方法       |
| DESCRIPTION | 介绍说明                 |
| EXAMPLES    | 演示（附带简单说明）     |
| OVERVIEW    | 概述                     |
| DEFAULTS    | 默认的功能               |
| OPTIONS     | 具体的可用选项（带介绍） |
| ENVIRONMENT | 环境变量                 |
| FILES       | 用到的文件               |
| SEE ALSO    | 相关的资源               |
| HISTORY     | 维护历史与联系方式       |

### 常用系统工作命令

**echo 命令**

**echo**命令用于在终端输出字符串或变量提取后的值，格式为`echo [字符串|$变量]`

```bash
echo Linuxprobe.com
Linuxprobe.com   //显示在终端的信息
```

我们使用 **$** 变量的方式提取变量 **SHELL** 的值，并输出到屏幕上

```bash
echo $SHELL
/bin/bash
```

**date 命令**

date命令用于显示及设置系统的时间或日期，格式为`date [选项] [+指定的格式]`

#### date 命令的参数及作用

| 参数 | 作用           |
| ---- | -------------- |
| %t   | 跳格 [Tab键]   |
| %H   | 小时（00~23）  |
| %I   | 小时（00~12）  |
| %M   | 分钟（00~59）  |
| %S   | 秒（00~59）    |
| %j   | 今年中的第几天 |

按照默认格式查看当前系统时间的date命令如下所示

```bash
date
Wed Nov 17 10:41:01 CST 2021
```

按照 “年-月-日 小时:分钟:秒” 的格式查看当前系统时间的 date 命令

```bash
date "+%Y-%m-%d %H:%M:%S"
2021-11-17 10:43:29
```

将系统的当前时间设置为 2017 年 9 月 1 日 8 点 30 分的 date 命令

```bash
date -s "20170901 8:30:00"
Fri Sep 1 08:30:00 CST 2017
```

date 命令中的参数 %j 可用来查看今天是今年中的第几天

```bash
date "+%j"
321
```

**reboot 命令**

reboot 命令用于重启系统，其格式为 reboot

**poweroff 命令**

poweroff 命令用于关闭系统，其格式为 poweroff

**wget 命令**

wget 命令用于在终端中下载网络文件，格式为 `wget [参数] 下载地址`

#### wget 命令的参数及作用

| 参数 | 作用                                 |
| ---- | ------------------------------------ |
| -b   | 后台下载模式                         |
| -P   | 下载到指定目录                       |
| -t   | 最大尝试次数                         |
| -c   | 断电续传                             |
| -p   | 下载页面内所有资源，包括图片、视频等 |
| -r   | 递归下载                             |

**ps 命令**

ps命令用于查看系统中的进程状态，格式为 `ps [参数]`

#### ps 命令的参数及作用

| 参数 | 作用                               |
| ---- | ---------------------------------- |
| -a   | 显示所有进程（包括其他用户的进程） |
| -u   | 用户以及其他详细信息               |
| -x   | 显示没有控制终端的进程             |

Linux系统中，有5种常见的进程状态，分别为运行、中断、不可中断、僵死与停止

* R（运行）：进程正在运行或在运行队列中等待
* S（中断）：进程处于休眠中，当某个条件形成后或者接受到信号时，则脱离该状态
* D（不可中断）：进程不响应系统异步信号，即便用 Kill 命令也不能将其中断
* Z（僵死）：进程已经终止，但进程描述符依然存在，直到父进程调用 wait4() 系统函数后将进程释放
* T（停止）：进程收到停止信号后停止运行

> ps 命令可允许参数不加减号（-），因此可直接写成 ps aux的样子

**top 命令**

top 命令用于动态地监视进程活动与系统负载等信息，其格式为 top

top 命令相当强大，能够动态地查看系统运维状态，完全将它看作 Linux 中的“强化版的任务管理器”

**pidof 命令**

pidof 命令用于查询某个指定服务进程的PID值，格式为 pidof

**kill 命令**

kill 命令用于终止某个指定 PID 的服务进程，格式为 `kill [参数] [进程PID]`

**killall 命令**

killall 命令用于终止某个指定名称的服务所对应的全部进程，格式为`killall [参数] [进程名称]`

> 如果有些命令在执行时不断地在屏幕上输出信息，影响到后续命令的输入，则可以在执行命令时在末尾添加上一个 & 符号，这样命令将进入系统后台来执行

### 系统状态检测命令

**ifconfig 命令**

ifconfig 命令用于获取网卡配置与网络状态等信息，格式为`ifconfig [网络设备] [参数]`

**uname 命令**

uname 命令用于查看系统内核与系统版本等信息，格式为`uname [-a]`

> 如果查看当前系统版本的详细信息，则需要查看redhat-release文件，
>
> `cat /etc/redhat-release`

**uptime 命令**

uptime 命令用于查看系统的负载信息，格式为 uptime 

负载值越低越好，尽量不要长期超过1，在生产环境中不要超过5

**free 命令**

free 命令用于显示当前系统中内存的使用量信息，格式为 `free [-h]`

**who 命令**

who 命令用于查看当前登入主机的用户终端信息，格式为 `who [参数]`

**last 命令**

last 命令用于查看所有系统的登录记录，格式为`last [参数]`

**history 命令**

history 命令用于显示历史执行过的命令，格式为`history [-c]`

**sosreport 命令**

sosreport 命令用于收集系统配置及架构信息并输出诊断文档，格式为`sosreport`

