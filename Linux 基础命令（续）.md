## Linux 基础命令

### 工作目录切换命令

**pwd 命令**

pwd 命令用于显示用户当前所处的工作目录，格式为`pwd [选项]`

**cd 命令**

cd 命令用于切换工作路径，格式为`cd [目录名称]`

**ls 命令**

ls 命令用于显示目录中的文件信息，格式为`ls [选项] [文件]`

### 文本文件编辑命令

**cat 命令**

cat 命令用于查看纯文本文件（内容较少的），格式为`cat [选项] [文件]`

cat 命令后面追加i一个 -n 参数，能够在文本内容中显示行号

**more 命令**

more 命令用于查看纯本文文件（内容较多的），格式为`more [选项] [文件]`

**head 命令**

head 命令用于查看纯文本文档的前N行，格式为`head [选项] [文件]`

```bash
head -n 20 文件名  #查看前20行内容
```

**tail 命令**

tail 命令用于查看纯文本文档的后N行或持续刷新内容，格式为`tail [选项] [文件]`

```bash
tail -f 文件名   #持续刷新文件内容
```

**tr 命令**

tr 命令用于替换文本文件中的字符，格式为`tr [原始字符] [目标字符]`

```bash
cat 文件名 | tr [a-z] [A-Z]  #把某个文本内容中的英文全部替换为大写
```

**wc 命令**

wc 命令用于统计指定文本的行数、字数、字节数，格式为`wc [参数] 文本`

#### wc 命令的参数及作用

| 参数 | 作用         |
| ---- | ------------ |
| -l   | 只显示行数   |
| -w   | 只显示单词数 |
| -c   | 只显示字节数 |

```bash
wc -l /etc/passwd  #统计系统中有多少个用户
```

---

**stat 命令**

stat 命令用于查看文件的具体存储信息和时间等信息，格式为`stat 文件名称`

**cut 命令**

cut 命令用于按“列”提取文本字符，格式为`cut [参数] 文本`

```bash
cut -d: -f1 /etc/passwd   # 提取以冒号为间隔符号的第一列内容（用户信息的每一个值之间采用冒号分隔）
```

**diff 命令**

diff 命令用于比较多个文本文件的差异，格式为`diff [参数] 文件`

```bash
# 分别查看 diff_A.txt 和 diff_B.txt
cat diff_A.txt
cat diff_B.txt
# 使用 diff --brief 命令显示比较后的结果，判断文件是否相同
diff --brief diff_A.txt diff_B.txt
Files diff_A.txt and diff_B.txt differ
# 使用带有 -c参数的 diff 命令来描述文件内容具体的不同（可以显示出来）
diff -c diff_A.txt diff_B.txt
```

### 文件目录管理命令

**touch 命令**

touch 命令用于创建空白文件或设置文件的时间，格式为`touch [选项] [文件]`

#### touch 命令的参数及作用

| 参数 | 作用                      |
| ---- | ------------------------- |
| -a   | 仅修改“读取时间（atime）” |
| -m   | 仅修改“修改时间（mtime）” |
| -d   | 同时修改 atime 和 mtime   |

**mkdir 命令**

mkdir 命令用于创建空白的目录，格式为`mkdir [选项] 目录`

```bash
# 结合 -p 参数来递归创建出具有嵌套叠层关系的文件目录
mkdir -p a/b/c/d
```

**cp 命令**

cp 命令用于复制文件或目录，格式为`cp [选项] 源文件 目标文件`

* 如果目标文件是目录，则会把源文件复制到该目录中
* 如果目标文件也是普通文件，则会询问是否要覆盖它
* 如果目标文件不存在，则执行正常的复制操作

#### cp 命令的参数及作用

| 参数 | 作用                                         |
| ---- | -------------------------------------------- |
| -p   | 保留原始文件的属性                           |
| -d   | 若对象为“链接文件”，则保留该“链接文件“的属性 |
| -r   | 递归持续复制（用于目录）                     |
| -i   | 若目标文件存在则询问是否覆盖                 |
| -a   | 相当于 -pdr                                  |

**mv 命令**

mv 命令用于剪切文件或将文件重命名，格式为`mv [选项] 源文件 [目标路径|目标文件名]`

**rm 命令**

rm 命令用于删除文件或目录，格式为`rm [选项] 文件`

```bash
# 强制删除文件（不询问）
rm -f
# 删除一个目录
rm -r
# 强制删除一个目录
rm -rf
```

**dd 命令**

dd 命令用于按照指定大小和个数的数据块来复制文件或转移文件，格式为`dd [参数]`

#### dd 命令的参数及作用

| 参数  | 作用                 |
| ----- | -------------------- |
| if    | 输入的文件名称       |
| of    | 输出的文件名称       |
| bs    | 设置每个‘快”的大小   |
| count | 设置要复制“快”的个数 |

```bash
# 从/dev/zero设备文件中取出一个大小为560MB的数据库，然后保存成名为 560_file 的文件
dd if=/dev/zero of=560_file count=1 bs=560M
```

**file 命令**

file 命令用于查看文件的类型，格式为`file 文件名`

### 打包压缩与搜索命令

**tar 命令**

tar 命令用于对文件进行打包压缩或解压，格式为`tar [选项] [文件]`

#### tar 命令的参数及作用

| 参数 | 作用                   |
| ---- | ---------------------- |
| -c   | 创建压缩文件           |
| -x   | 解开压缩文件           |
| -t   | 查看压缩包内有哪些文件 |
| -z   | 用 Gzip 压缩或解压     |
| -j   | 用 bzip2压缩或解压     |
| -v   | 显示压缩或解压的过程   |
| -f   | 目标文件名             |
| -p   | 保留原始的权限与属性   |
| -P   | 使用绝对路径来压缩     |
| -C   | 指定解压到的目录       |

```bash
# 打包压缩文件
tar -czvf etc.tar.gz /etc
# 解压缩文件
tar xzvf etc.tar.gz -C /root/etc
```

**grep 命令**

grep 命令用于在文本中执行关键词搜索，并显示匹配的结果，格式为`grep [选项] [文件]`

#### grep 命令的参数及作用

| 参数   | 作用                                             |
| ------ | ------------------------------------------------ |
| -b     | 将可执行文件（binary）当作文本文件（text）来搜索 |
| -c     | 仅显示找到的行数                                 |
| -i     | 忽略大小写                                       |
| **-n** | **显示行号**                                     |
| **-v** | **反向选择——仅列出没有“关键字”的行**             |

**find 命令**

find 命令用于按照指定条件来查找文件，格式为`find [查找路径] 寻找条件 操作`

#### find 命令的参数及作用

| 参数               | 作用                                                         |
| ------------------ | ------------------------------------------------------------ |
| -name              | 匹配名称                                                     |
| -perm              | 匹配权限（mode为完全匹配，-mode为包含即可）                  |
| -user              | 匹配所有者                                                   |
| -group             | 匹配所有组                                                   |
| -mtime -n +n       | 匹配修改内容的时间（-n指n天以内，+n指n天以前）               |
| -atime -n +n       | 匹配访问文件的时间（-n指n天以内，+n指n天以前）               |
| -ctime -n +n       | 匹配修改文件权限的时间（-n指n天以内，+n指n天以前）           |
| -nouser            | 匹配无所有者的文件                                           |
| -nogroup           | 匹配无所有组的文件                                           |
| -newer f1 !f2      | 匹配比文件f1新但比f2旧的文件                                 |
| --type b/d/c/p/l/f | 匹配文件类型（后面的字母参数依次表示块设备、目录、字符设备、管道、链接文件、文本文件） |
| -size              | 匹配文件的大小（+50KB为查找超过50KB的文件，而-50KB为查找小于50KB的文件） |
| -prune             | 忽略某个目录                                                 |
| -exec...{}\;       | 后面可跟用于进一步处理搜索结果的命令                         |

```bash
# 获取到该目录中所有以host开头的文件列表
find /etc -name "host*" -print
# 在整个系统中搜索权限中包括SUID权限的所有文件，只需使用-4000
find / -perm -4000 
```

